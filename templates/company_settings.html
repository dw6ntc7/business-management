{% extends 'base.html' %}
{% block content %}
<h2>Firmendaten bearbeiten</h2>
<form method="post" enctype="multipart/form-data">
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="name" class="form-label">Firmenname</label>
            <input type="text" class="form-control" id="name" name="name" value="{{ settings.name or '' }}" required>
        </div>
        <div class="col-md-3 mb-3">
            <label for="uid" class="form-label">UID-Nummer</label>
            <input type="text" class="form-control" id="uid" name="uid" value="{{ settings.uid or '' }}">
        </div>
        <div class="col-md-3 mb-3">
            <label for="firmenbuchnummer" class="form-label">Firmenbuchnummer</label>
            <input type="text" class="form-control" id="firmenbuchnummer" name="firmenbuchnummer" value="{{ settings.firmenbuchnummer or '' }}">
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="street" class="form-label">Stra√üe</label>
            <input type="text" class="form-control" id="street" name="street" value="{{ settings.street or '' }}">
        </div>
        <div class="col-md-2 mb-3">
            <label for="house_number" class="form-label">Hausnummer</label>
            <input type="text" class="form-control" id="house_number" name="house_number" value="{{ settings.house_number or '' }}">
        </div>
        <div class="col-md-2 mb-3">
            <label for="postal_code" class="form-label">PLZ</label>
            <input type="text" class="form-control" id="postal_code" name="postal_code" value="{{ settings.postal_code or '' }}">
        </div>
        <div class="col-md-2 mb-3">
            <label for="city" class="form-label">Ort</label>
            <input type="text" class="form-control" id="city" name="city" value="{{ settings.city or '' }}">
        </div>
        <div class="col-md-2 mb-3">
            <label for="country" class="form-label">Land</label>
            <input type="text" class="form-control" id="country" name="country" value="{{ settings.country or '' }}">
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="bank" class="form-label">Bank</label>
            <input type="text" class="form-control" id="bank" name="bank" value="{{ settings.bank or '' }}">
        </div>
        <div class="col-md-4 mb-3">
            <label for="iban" class="form-label">IBAN</label>
            <input type="text" class="form-control" id="iban" name="iban" value="{{ settings.iban or '' }}">
        </div>
        <div class="col-md-4 mb-3">
            <label for="bic" class="form-label">BIC</label>
            <input type="text" class="form-control" id="bic" name="bic" value="{{ settings.bic or '' }}">
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="email" class="form-label">E-Mail</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ settings.email or '' }}">
        </div>
        <div class="col-md-4 mb-3">
            <label for="phone" class="form-label">Telefon</label>
            <input type="text" class="form-control" id="phone" name="phone" value="{{ settings.phone or '' }}">
        </div>
        <div class="col-md-4 mb-3">
            <label for="website" class="form-label">Website</label>
            <input type="text" class="form-control" id="website" name="website" value="{{ settings.website or '' }}">
        </div>
    </div>
    <div class="mb-3">
        <label for="wirtschaftskammer" class="form-label">Wirtschaftskammer</label>
        <input type="text" class="form-control" id="wirtschaftskammer" name="wirtschaftskammer" value="{{ settings.wirtschaftskammer or '' }}">
    </div>
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="offer_number_prefix" class="form-label">Angebotsnummer-Pr√§fix</label>
            <input type="text" class="form-control" id="offer_number_prefix" name="offer_number_prefix" 
                   value="{{ settings.offer_number_prefix or 'One-Offer-$id' }}" 
                   placeholder="One-Offer-$id">
            <div class="form-text">Verwendung: $id wird durch die laufende Nummer ersetzt</div>
        </div>
        <div class="col-md-6 mb-3">
            <label for="invoice_number_prefix" class="form-label">Rechnungsnummer-Pr√§fix</label>
            <input type="text" class="form-control" id="invoice_number_prefix" name="invoice_number_prefix" 
                   value="{{ settings.invoice_number_prefix or 'One-Inv-$id' }}" 
                   placeholder="One-Inv-$id">
            <div class="form-text">Verwendung: $id wird durch die laufende Nummer ersetzt</div>
        </div>
    </div>
    <div class="mb-3">
        <label for="logo" class="form-label">Firmenlogo {% if settings.logo_filename %}<br><img src="/instance/{{ settings.logo_filename }}" alt="Logo" style="max-height:60px;"/>{% endif %}</label>
        <input type="file" class="form-control" id="logo" name="logo" accept="image/*">
    </div>
    <div class="mb-3">
        <label for="notes" class="form-label">Interne Notizen</label>
        <textarea class="form-control" id="notes" name="notes">{{ settings.notes or '' }}</textarea>
    </div>
    
    <!-- PDF Template Farben -->
    <h4 class="mt-4 mb-3">üé® PDF Template Farben</h4>
    <div class="row">
        <div class="col-md-3 mb-3">
            <label for="primary_color" class="form-label">Hauptfarbe</label>
            <input type="color" class="form-control form-control-color" id="primary_color" name="primary_color" 
                   value="{{ settings.primary_color or '#667eea' }}" title="Hauptfarbe f√ºr Akzente">
            <div class="form-text">F√ºr Buttons und wichtige Elemente</div>
        </div>
        <div class="col-md-3 mb-3">
            <label for="secondary_color" class="form-label">Sekund√§rfarbe</label>
            <input type="color" class="form-control form-control-color" id="secondary_color" name="secondary_color" 
                   value="{{ settings.secondary_color or '#764ba2' }}" title="Sekund√§rfarbe">
            <div class="form-text">F√ºr Hintergr√ºnde und Rahmen</div>
        </div>
        <div class="col-md-3 mb-3">
            <label for="accent_color" class="form-label">Akzentfarbe</label>
            <input type="color" class="form-control form-control-color" id="accent_color" name="accent_color" 
                   value="{{ settings.accent_color or '#4299e1' }}" title="Akzentfarbe">
            <div class="form-text">F√ºr Preise und Highlights</div>
        </div>
        <div class="col-md-3 mb-3">
            <label for="text_color" class="form-label">Textfarbe</label>
            <input type="color" class="form-control form-control-color" id="text_color" name="text_color" 
                   value="{{ settings.text_color or '#2d3748' }}" title="Haupttextfarbe">
            <div class="form-text">F√ºr √úberschriften und Texte</div>
        </div>
    </div>
    
    <div class="mb-3">
        <button type="submit" class="btn btn-success">Speichern</button>
    </div>
</form>
{% endblock %}
